// Copyright (c) Sphere 10 Software. All rights reserved. (https://sphere10.com)
// Author: Hamish Rose
//
// Distributed under the MIT software license, see the accompanying file
// LICENSE or visit http://www.opensource.org/licenses/mit-license.php.
//
// This notice must not be removed when duplicating this file or its contents, in whole or in part.

@using Hydrogen.DApp.Presentation.Plugins
@using System.Net.Mime
@inherits ComponentWithViewModel<AppsMenuViewModel>

<!-- Heading -->
<div class="sidebar-heading text-center">
    Apps
</div>
<li class="nav-item">
    <div class="d-flex flex-wrap justify-content-center app-block-container">
        @foreach (IApp app in ViewModel?.Apps!) {
            <NavLink class="nav-link w-auto" data-toggle="tooltip" title="@app.Name" ActiveClass="active" href="@app.Route" Match="NavLinkMatch.Prefix">
                <button class="btn btn-sm btn-primary @NavItemClass(app.Name)">
                    <img src="@app.Icon" width="25" height="25"/>
                </button>
            </NavLink>
        }
    </div>
</li>

@code
{
    private string NavItemClass(string appName) => ViewModel!.SelectedApp?.Name == appName ? "active focus" : "";
}